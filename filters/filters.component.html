<div class="filter-button" (click)="filterBtnClick()">
  {{'Filtri'|wmtrans}}
  <ion-icon name="funnel-outline"></ion-icon>
  <span class="dot" *ngIf="poiFilters.length>0|| trackFilters.length>0"></span>
</div>
<ion-list class="filter-content" lines="none" *ngIf="toggle$|async">
  <ng-container *ngIf="poiFilters.length>0|| trackFilters.length>0">
    <ion-item>
      {{'Filtri attivi'|wmtrans}}
      {{poiFilters.length + trackFilters.length}}</ion-item
    >
    <ion-item class="selected-filters">
      <ng-container *ngFor="let f of poiFilters">
        <ion-chip (click)="removePoiFilter(f)">
          <ng-container *ngIf="f.icon != null;else imgT">
            <div appBuildSvg style="height:55%" [svg]="f.icon"></div>
          </ng-container>
          <ng-template #imgT>
            <img [src]="f.identifier" />
          </ng-template>
          <ion-label>{{f.name|wmtrans}}</ion-label>
        </ion-chip>
      </ng-container>
      <ng-container *ngFor="let f of trackFilters">
        <ion-chip (click)="removeTrackFilter(f)">
          <ng-container *ngIf="f.icon != null">
            <div appBuildSvg style="height:55%" [svg]="f.icon"></div>
          </ng-container>
          <ion-label>{{f.name|wmtrans}}</ion-label>
        </ion-chip>
      </ng-container>
    </ion-item>
  </ng-container>
  <ion-accordion-group value="poi_type">
    <ng-container *ngFor="let filter of confFilters|keyvalue">
      <wm-select-filter
        *ngIf="(filter.value|wmAsAny).type == 'select'"
        [filter]="filter.value"
        [filterName]="filter.key"
      ></wm-select-filter>
    </ng-container>
  </ion-accordion-group>
</ion-list>
